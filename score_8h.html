<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>max: /home/runner/work/max/max/include/max/engine/score.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">max
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('score_8h.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">score.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="move_8h_source.html">max/board/move.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="def_8h_source.html">max/def.h</a>&quot;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
</div>
<p><a href="score_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmax__nodescore__t.html">max_nodescore_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A list of scores associated with every move in a <a class="el" href="structmax__movelist__t.html" title="A list of (optionally packed) moves filled during movegen and searched by the engine.">max_movelist_t</a>.  <a href="structmax__nodescore__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmax__scorelist__t.html">max_scorelist_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A list containing both moves and associated scores, used to sort move lists during alpha-beta search and in between iterations of iterative deepening to ensure that the most promising nodes are re-evaluated first.  <a href="structmax__scorelist__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a0b507043f0a793b034a5a84cc4e5fdb7" id="r_a0b507043f0a793b034a5a84cc4e5fdb7"><td class="memItemLeft" align="right" valign="top"><a id="a0b507043f0a793b034a5a84cc4e5fdb7" name="a0b507043f0a793b034a5a84cc4e5fdb7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_ENGINE_MAX_MOVES_PER_PLY</b>&#160;&#160;&#160;(80)</td></tr>
<tr class="memdesc:a0b507043f0a793b034a5a84cc4e5fdb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of moves to analyze per game ply - this limit is used to stop recursion before we overflow the move list, and to limit the capacity of score lists for each ply. <br /></td></tr>
<tr class="separator:a0b507043f0a793b034a5a84cc4e5fdb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:afbe73ab7e0f194e9995b71977e327d97" id="r_afbe73ab7e0f194e9995b71977e327d97"><td class="memItemLeft" align="right" valign="top"><a class="el" href="def_8h.html#a78136be6928a8db00fe2cb7e2ed58009">MAX_INLINE_ALWAYS</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afbe73ab7e0f194e9995b71977e327d97">max_scorelist_reset</a> (<a class="el" href="structmax__scorelist__t.html">max_scorelist_t</a> *scorelist, <a class="el" href="structmax__movelist__t.html">max_movelist_t</a> moves)</td></tr>
<tr class="memdesc:afbe73ab7e0f194e9995b71977e327d97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the given scores list, setting its moves to the given movelist.  <br /></td></tr>
<tr class="separator:afbe73ab7e0f194e9995b71977e327d97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22e40b1120ebf24fec298e5a514dd848" id="r_a22e40b1120ebf24fec298e5a514dd848"><td class="memItemLeft" align="right" valign="top"><a id="a22e40b1120ebf24fec298e5a514dd848" name="a22e40b1120ebf24fec298e5a514dd848"></a>
<a class="el" href="def_8h.html#a78136be6928a8db00fe2cb7e2ed58009">MAX_INLINE_ALWAYS</a> void&#160;</td><td class="memItemRight" valign="bottom"><b>max_scorelist_score</b> (<a class="el" href="structmax__scorelist__t.html">max_scorelist_t</a> *scorelist, uint8_t idx, <a class="el" href="group__engine.html#gaac3c787ebbec3ccc29bb184f3d768b48">max_score_t</a> score)</td></tr>
<tr class="memdesc:a22e40b1120ebf24fec298e5a514dd848"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assign as score to the move located at the given index in the movelist. <br /></td></tr>
<tr class="separator:a22e40b1120ebf24fec298e5a514dd848"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b2382093086a7a02b2aae769356a0b4" id="r_a1b2382093086a7a02b2aae769356a0b4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1b2382093086a7a02b2aae769356a0b4">max_scorelist_sort</a> (<a class="el" href="structmax__scorelist__t.html">max_scorelist_t</a> *scorelist)</td></tr>
<tr class="memdesc:a1b2382093086a7a02b2aae769356a0b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sort the given list by the contained scores, also sorting the contained move list in place.  <br /></td></tr>
<tr class="separator:a1b2382093086a7a02b2aae769356a0b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0833922793bad89f1a94fe5e24ba66c1" id="r_a0833922793bad89f1a94fe5e24ba66c1"><td class="memItemLeft" align="right" valign="top"><a id="a0833922793bad89f1a94fe5e24ba66c1" name="a0833922793bad89f1a94fe5e24ba66c1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_SCORE_HIGHEST</b>&#160;&#160;&#160;(INT16_MAX - 1000)</td></tr>
<tr class="memdesc:a0833922793bad89f1a94fe5e24ba66c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The highest score possible to store in a <a class="el" href="group__engine.html#gaac3c787ebbec3ccc29bb184f3d768b48" title="A signed score in the range [-20000, 20000] indicating the value of a given object.">max_score_t</a>, used to create a null window for alpha-beta search. <br /></td></tr>
<tr class="separator:a0833922793bad89f1a94fe5e24ba66c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a909b3bf61caba91d270fb4f69dea7d5f" id="r_a909b3bf61caba91d270fb4f69dea7d5f"><td class="memItemLeft" align="right" valign="top"><a id="a909b3bf61caba91d270fb4f69dea7d5f" name="a909b3bf61caba91d270fb4f69dea7d5f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_SCORE_LOWEST</b>&#160;&#160;&#160;(INT16_MIN + 1000)</td></tr>
<tr class="memdesc:a909b3bf61caba91d270fb4f69dea7d5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The lowest score possible to store in a <a class="el" href="group__engine.html#gaac3c787ebbec3ccc29bb184f3d768b48" title="A signed score in the range [-20000, 20000] indicating the value of a given object.">max_score_t</a>, used to create a null window for alpha-beta search. <br /></td></tr>
<tr class="separator:a909b3bf61caba91d270fb4f69dea7d5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaac3c787ebbec3ccc29bb184f3d768b48" id="r_gaac3c787ebbec3ccc29bb184f3d768b48"><td class="memItemLeft" align="right" valign="top">typedef int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__engine.html#gaac3c787ebbec3ccc29bb184f3d768b48">max_score_t</a></td></tr>
<tr class="memdesc:gaac3c787ebbec3ccc29bb184f3d768b48"><td class="mdescLeft">&#160;</td><td class="mdescRight">A signed score in the range [-20000, 20000] indicating the value of a given object.  <br /></td></tr>
<tr class="separator:gaac3c787ebbec3ccc29bb184f3d768b48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba8fea24e8512eaafa1342f688370b04" id="r_aba8fea24e8512eaafa1342f688370b04"><td class="memItemLeft" align="right" valign="top">typedef int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aba8fea24e8512eaafa1342f688370b04">max_smallscore_t</a></td></tr>
<tr class="memdesc:aba8fea24e8512eaafa1342f688370b04"><td class="mdescLeft">&#160;</td><td class="mdescRight">A signed score in centipawns in the range [-128, 127].  <br /></td></tr>
<tr class="separator:aba8fea24e8512eaafa1342f688370b04"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Node Score Types</h2></td></tr>
<tr><td class="ititle" colspan="2"><p>During alpha-beta search, some nodes will not be evaluated as deeply as other nodes because their scores meet certain criteria. </p>
</td></tr>
<tr class="memitem:a7ff5f2dff38e7639981794c43dc9167b" id="r_a7ff5f2dff38e7639981794c43dc9167b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="#a7ff5f2dff38e7639981794c43dc9167ba9ff33c6a049cc7c41e7df740fd286396">MAX_NODEKIND_PV</a> = 0
, <br />
&#160;&#160;<a class="el" href="#a7ff5f2dff38e7639981794c43dc9167ba4c17e414c5c62589fe33518559618130">MAX_NODEKIND_CUT</a> = 1
, <br />
&#160;&#160;<a class="el" href="#a7ff5f2dff38e7639981794c43dc9167ba082190305d68a5b3023fc5cfa92586d1">MAX_NODEKIND_ALL</a> = 2
<br />
 }</td></tr>
<tr class="separator:a7ff5f2dff38e7639981794c43dc9167b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7c600265f273264ecfd4285578e2c63" id="r_aa7c600265f273264ecfd4285578e2c63"><td class="memItemLeft" align="right" valign="top"><a id="aa7c600265f273264ecfd4285578e2c63" name="aa7c600265f273264ecfd4285578e2c63"></a>
typedef uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>max_nodekind_t</b></td></tr>
<tr class="memdesc:aa7c600265f273264ecfd4285578e2c63"><td class="mdescLeft">&#160;</td><td class="mdescRight">A 2-bit value specifying the kind of node a given scored position was. <br /></td></tr>
<tr class="separator:aa7c600265f273264ecfd4285578e2c63"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="aba8fea24e8512eaafa1342f688370b04" name="aba8fea24e8512eaafa1342f688370b04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba8fea24e8512eaafa1342f688370b04">&#9670;&#160;</a></span>max_smallscore_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int8_t <a class="el" href="#aba8fea24e8512eaafa1342f688370b04">max_smallscore_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A signed score in centipawns in the range [-128, 127]. </p>
<p>This is a compressed version of <a class="el" href="group__engine.html#gaac3c787ebbec3ccc29bb184f3d768b48" title="A signed score in the range [-20000, 20000] indicating the value of a given object.">max_score_t</a> used to store piece-square tables and other lookup tables whose elements all value less than a pawn as compact as possible. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="group__engine.html#gaac3c787ebbec3ccc29bb184f3d768b48" title="A signed score in the range [-20000, 20000] indicating the value of a given object.">max_score_t</a> </dd></dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a7ff5f2dff38e7639981794c43dc9167b" name="a7ff5f2dff38e7639981794c43dc9167b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ff5f2dff38e7639981794c43dc9167b">&#9670;&#160;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a7ff5f2dff38e7639981794c43dc9167ba9ff33c6a049cc7c41e7df740fd286396" name="a7ff5f2dff38e7639981794c43dc9167ba9ff33c6a049cc7c41e7df740fd286396"></a>MAX_NODEKIND_PV&#160;</td><td class="fielddoc"><p>Principle Variation Node. </p>
<p>All child nodes were searched, and the score returned successfully raised the lower bound of the score, so the score associated with this node is exact. </p>
</td></tr>
<tr><td class="fieldname"><a id="a7ff5f2dff38e7639981794c43dc9167ba4c17e414c5c62589fe33518559618130" name="a7ff5f2dff38e7639981794c43dc9167ba4c17e414c5c62589fe33518559618130"></a>MAX_NODEKIND_CUT&#160;</td><td class="fielddoc"><p>Cut Node. </p>
<p>This node failed high when one of the child nodes exceeded the upper bound on the score. Not all child nodes were searched for this node, so the score returned is a lower bound on the true score of the node. </p>
</td></tr>
<tr><td class="fieldname"><a id="a7ff5f2dff38e7639981794c43dc9167ba082190305d68a5b3023fc5cfa92586d1" name="a7ff5f2dff38e7639981794c43dc9167ba082190305d68a5b3023fc5cfa92586d1"></a>MAX_NODEKIND_ALL&#160;</td><td class="fielddoc"><p>All Node. </p>
<p>All children of this node were searched, and each failed to exceed the lower bound on the score. The score associated with this node is an upper bound on the true value of the node. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="afbe73ab7e0f194e9995b71977e327d97" name="afbe73ab7e0f194e9995b71977e327d97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbe73ab7e0f194e9995b71977e327d97">&#9670;&#160;</a></span>max_scorelist_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="def_8h.html#a78136be6928a8db00fe2cb7e2ed58009">MAX_INLINE_ALWAYS</a> void max_scorelist_reset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmax__scorelist__t.html">max_scorelist_t</a> *</td>          <td class="paramname"><span class="paramname"><em>scorelist</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmax__movelist__t.html">max_movelist_t</a></td>          <td class="paramname"><span class="paramname"><em>moves</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset the given scores list, setting its moves to the given movelist. </p>
<p>Note that scores will be left undefined and must be reassigned with max_scorelist_score </p>

</div>
</div>
<a id="a1b2382093086a7a02b2aae769356a0b4" name="a1b2382093086a7a02b2aae769356a0b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b2382093086a7a02b2aae769356a0b4">&#9670;&#160;</a></span>max_scorelist_sort()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void max_scorelist_sort </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmax__scorelist__t.html">max_scorelist_t</a> *</td>          <td class="paramname"><span class="paramname"><em>scorelist</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sort the given list by the contained scores, also sorting the contained move list in place. </p>
<p>Sorting the move list before evaluation improves alpha beta search by encouraging beta cutoffs. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_0639ad22bd46af5c547b3e49244c59f4.html">max</a></li><li class="navelem"><a class="el" href="dir_f68ba2f8d23282d65f2a91bb33ecadc4.html">engine</a></li><li class="navelem"><a class="el" href="score_8h.html">score.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0 </li>
  </ul>
</div>
</body>
</html>
